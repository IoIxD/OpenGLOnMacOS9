/*	File:		glut_util.c	Contains:		Written by:	Mark J. Kilgard	Mac OS by:	John Stauffer and Geoff Stahl	Copyright:	Copyright © Mark J. Kilgard, 1994.				MacOS portions Copyright © Apple Computer, Inc., 1999	Change History (most recent first):        <3+>     3/19/00    ggs     convert to 3.7 imp.         <3>     7/16/99    ggs     Fixed attributions and copyrights         <2>     5/31/99    ggs     removed glut include; chnaged function definitions to conform                                    with 3.7 glutinit         <1>     5/23/99    GGS     OpenGL glut original source*//* Copyright © Mark J. Kilgard, 1994. *//* This program is freely distributable without licensing fees   and is provided without guarantee or warrantee expressed or   implied. This program is -not- in the public domain. */#include <stdlib.h>#include <stdarg.h>#include <stdio.h>#include <string.h>#include "glutint.h"#define PRINT_LOG_FILE_NAME   "glut_error_log"static FILE *__glutLogFile = NULL;void __glutCToPStr(const char *cs, Str255 ps){	GLint i, l;		l = strlen(cs);	if(l > 255) l = 255;	ps[0] = l;	for(i = 0; i < l; i++) ps[i + 1] = cs[i];}void glutReportErrors(void){	GLenum error;	while ((error = glGetError()) != GL_NO_ERROR)		__glutWarning("GL error: %s", gluErrorString(error));}void __glutWarning(char *format,...){  va_list args;    va_start(args, format);  fprintf(stderr, "GLUT: Warning in %s: ",    __glutProgramName ? __glutProgramName : "(unamed)");  vfprintf(stderr, format, args);  va_end(args);  putc('\n', stderr);/* 3.6  va_list args;    if(__glutLogFile == NULL) __glutLogFile = fopen(PRINT_LOG_FILE_NAME, "w");  if(__glutLogFile == NULL) return;  va_start(args, format);  fprintf(__glutLogFile, "GLUT: Warning in %s: ",    __glutProgramName ? __glutProgramName : "(unamed)");  vfprintf(__glutLogFile, format, args);  va_end(args);  fprintf(__glutLogFile, "\n"); */}void __glutFatalError(char *format,...){  va_list args;  va_start(args, format);  fprintf(stderr, "GLUT: Fatal Error in %s: ",    __glutProgramName ? __glutProgramName : "(unamed)");  vfprintf(stderr, format, args);  va_end(args);  putc('\n', stderr);  exit(1);/*  va_list args;  if(__glutLogFile == NULL) __glutLogFile = fopen(PRINT_LOG_FILE_NAME, "w");  if(__glutLogFile == NULL) return;    va_start(args, format);  fprintf(__glutLogFile, "GLUT: Fatal Error in %s: ",    __glutProgramName ? __glutProgramName : "(unamed)");  vfprintf(__glutLogFile, format, args);  va_end(args);  fprintf(__glutLogFile, "\n");  exit(1); */}void __glutFatalUsage(char *format,...){  va_list args;  va_start(args, format);  fprintf(stderr, "GLUT: Fatal API Usage in %s: ",    __glutProgramName ? __glutProgramName : "(unamed)");  vfprintf(stderr, format, args);  va_end(args);  putc('\n', stderr);  abort();/*  va_list args;  if(__glutLogFile == NULL) __glutLogFile = fopen(PRINT_LOG_FILE_NAME, "w");  if(__glutLogFile == NULL) return;    va_start(args, format);  fprintf(__glutLogFile, "GLUT: Fatal API Usage in %s: ",    __glutProgramName ? __glutProgramName : "(unamed)");  vfprintf(__glutLogFile, format, args);  va_end(args);  fprintf(__glutLogFile, "\n");  abort();*/}char *__glutStrdup(const char *string){  char *copy;  copy = (char *) malloc(strlen(string) + 1);  if (copy == NULL)    return NULL;  strcpy(copy, string);  return copy;}